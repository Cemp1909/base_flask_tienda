<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario de Compra</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='estilos2.css') }}">
    <script>
        function calcularTotal() {
            const cantidad = parseFloat(document.getElementById("cantidad").value) || 0;
            const precioUnitario = parseFloat(document.getElementById("precio_unitario").value) || 0;
            const total = cantidad * precioUnitario;
            document.getElementById("precio_total").value = total.toFixed(2);
        }
    </script>
</head>
<body>
    <h2>Registrar Compra</h2>
    <form method="post" action="{{ url_for('enviar_pedido') }}">
        <label>Nombre del Cliente:</label><br>
        <input type="text" name="nombre" required><br><br>

        <label>Dirección:</label><br>
        <input type="text" name="direccion" required><br><br>

        <label>Teléfono:</label><br>
        <input type="text" name="telefono" required><br><br>

        <label>Producto:</label><br>
        <input type="text" name="tipo" value="{{ tipo }}" readonly><br><br>

        <label>Talla:</label><br>
        <input type="text" name="talla" value="{{ talla }}" readonly><br><br>

        <label>Color:</label><br>
        <input type="text" name="color" value="{{ color }}" readonly><br><br>

        <label>Cantidad:</label><br>
        <input type="number" id="cantidad" name="cantidad" min="1" required oninput="calcularTotal()"><br><br>

        <label>Precio Unitario:</label><br>
        <input type="number" id="precio_unitario" name="precio_unitario" step="0.01" min="0" value="{{ precio_unitario }}" readonly><br><br>

        <label>Precio Total:</label><br>
        <input type="number" id="precio_total" name="precio_total" step="0.01" readonly><br><br>

        <button type="submit">Registrar Compra</button>
    </form>

    <br><a href="{{ url_for('inicio') }}">Volver al inicio</a>
</body>
</html>
